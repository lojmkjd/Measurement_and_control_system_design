C51 COMPILER V9.60.7.0   COMCDT                                                            09/24/2024 17:32:50 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE COMCDT
OBJECT MODULE PLACED IN .\Objects\ComCDT.obj
COMPILER INVOKED BY: E:\ARM_KEIL\Arm\Keil_v5\C51\BIN\C51.EXE source\ComCDT.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND
                    - PRINT(.\Listings\ComCDT.lst) TABS(2) OBJECT(.\Objects\ComCDT.obj)

line level    source

   1          /*ComCDT.c*/
   2          #include "reg52.h"
   3          #include "include/delay.h"
   4          #include "include/ComCDT.h"
   5          
   6          unsigned char table[] = {0xc0, 0xf9, 0xa4, 0xb0, 0x99, 0x92, 0x82, 0xf8, 0x80, 0x90};
   7          
   8          void displayTemperature(unsigned char integerPart , unsigned char decimalPart){
   9   1          // 显示整数部分
  10   1          displayDigit(integerPart / 10, 0); // 十位
  11   1          displayDigit(integerPart % 10, 1); // 个位
  12   1          // 显示小数部分
  13   1          displayDigit(decimalPart / 10, 2); // 小数第一位
  14   1          displayDigit(decimalPart % 10, 3); // 小数第二位
  15   1      }
  16          
  17          void displayDigit(unsigned char digit, unsigned char position) {
  18   1          // 根据位置设置掩码
  19   1          unsigned char mask = (position == 1) ? 0x7F : 0xFF;
  20   1      
  21   1          // 根据位置进行不同操作
  22   1          switch (position) {
  23   2              case 0:
  24   2                  // 十位数字位设置为0
  25   2                  dig_ten = 0;
  26   2                  break;
  27   2              case 1:
  28   2                  // 个位数字位设置为0
  29   2                  dig_unit = 0;
  30   2                  break;
  31   2              case 2:
  32   2                  // 第一位小数位设置为0
  33   2                  firstDecimalPlace = 0;
  34   2                  break;
  35   2              case 3:
  36   2                  // 第二位小数位设置为0
  37   2                  secondDecimalPlace = 0;
  38   2                  break;
  39   2              default:
  40   2                  // 无效位置，直接返回
  41   2                  return;
  42   2          }
  43   1      
  44   1          // 将数字与掩码进行与运算，并将结果输出到P0端口
  45   1          P0 = table[digit] & mask;
  46   1          // 延时
  47   1          DelayUs2x(45); // 短暂延时50us
  48   1          // 将P0端口设置为高电平
  49   1          P0 = 0xFF; 
  50   1      
  51   1          // 根据位置进行不同操作
  52   1          switch (position) {
  53   2              case 0:
  54   2                  // 十位数字位设置为1
C51 COMPILER V9.60.7.0   COMCDT                                                            09/24/2024 17:32:50 PAGE 2   

  55   2                  dig_ten = 1;
  56   2                  break;
  57   2              case 1:
  58   2                  // 个位数字位设置为1
  59   2                  dig_unit = 1;
  60   2                  break;
  61   2              case 2:
  62   2                  // 第一位小数位设置为1
  63   2                  firstDecimalPlace = 1;
  64   2                  break;
  65   2              case 3:
  66   2                  // 第二位小数位设置为1
  67   2                  secondDecimalPlace = 1;
  68   2                  break;
  69   2          }
  70   1      }
  71          void displayTime(unsigned int totalSeconds) {
  72   1          // 将总秒数转换为总分钟数
  73   1          unsigned int totalMinutes = totalSeconds / 60;
  74   1          // 显示总分钟数的十位数
  75   1          displayDigit(totalMinutes / 10, 2);
  76   1          // 显示总分钟数的个位数
  77   1          displayDigit(totalMinutes % 10, 3);
  78   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    180    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     10       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
