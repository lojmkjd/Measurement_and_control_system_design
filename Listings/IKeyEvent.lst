C51 COMPILER V9.60.7.0   IKEYEVENT                                                         09/24/2024 19:23:13 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE IKEYEVENT
OBJECT MODULE PLACED IN .\Objects\IKeyEvent.obj
COMPILER INVOKED BY: E:\ARM_KEIL\Arm\Keil_v5\C51\BIN\C51.EXE source\IKeyEvent.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXT
                    -END PRINT(.\Listings\IKeyEvent.lst) TABS(2) OBJECT(.\Objects\IKeyEvent.obj)

line level    source

   1          /*IKeyEvent.c*/
   2          #include "reg52.h"
   3          #include "include/delay.h"
   4          #include "include/IKeyEvent.h"
   5          
   6          #define DEBOUNCE_DELAY 2
   7          
   8          void checkButtonState(bit button) {
   9   1          // 如果按钮状态等于防抖延迟时间
  10   1          if (button == 0) {
  11   2              // 延迟2毫秒
  12   2              DelayMs(DEBOUNCE_DELAY);
  13   2              // 如果按钮状态为0（按下状态）
  14   2              if (button == 0) {
  15   3                  displayTemperatureOrTime = !displayTemperatureOrTime; // 切换状态
  16   3                  DelayMs(DEBOUNCE_DELAY); // 延迟2毫秒
  17   3              }
  18   2              // 等待按钮状态不为0（即等待按钮释放）
  19   2              while (!button);
  20   2          }
  21   1      }
  22          
  23          void checkButtons(void) {
  24   1          // 检查温度或时间按钮的状态
  25   1          checkButtonState(switchButton); // 更新状态
  26   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     29    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
